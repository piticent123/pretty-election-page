{"version":3,"sources":["index.js"],"names":["styles","pageTemplate","resultTemplate","resultsDomain","parseResults","html","updatePage","results","init","window","location","href","startsWith","alert","alreadyRan","document","querySelector","root","outerHTML","innerHTML","refresh","fetch","result","text","setInterval"],"mappings":";AAAA,IAAMA,EAAN,iIAaMC,EAKKD,kOAAAA,OAAAA,EALX,wGAaME,EAAN,2CAKMC,EAAgB,kDAEtB,SAASC,EAAaC,IAEtB,SAASC,EAAWC,IAEpB,SAASC,IACH,IAACC,OAAOC,SAASC,KAAKC,WAAWT,GAE5B,OADPU,MAAM,qEACC,EAILC,GADeC,SAASC,cAAc,4BAEjC,OAAA,EAGHC,IAAAA,EAAOF,SAASC,cAAc,QAC9BX,EAAOY,EAAKC,UAKX,OAJPD,EAAKE,UAAYlB,EAGjBK,EADgBF,EAAaC,KAEtB,EAGT,SAAee,IAAf,IAAA,EAAA,EAAA,OAAA,mBAAA,MAAA,SAAA,GAAA,OAAA,OAAA,EAAA,KAAA,EAAA,MAAA,KAAA,EACuBC,OADvB,EAAA,KAAA,EACuBA,mBAAAA,MAAAA,MAAMZ,OAAOC,SAASC,OAD7C,KAAA,EAEqBW,OADbA,EADR,EAAA,KAAA,EAAA,KAAA,EAEqBA,mBAAAA,MAAAA,EAAOC,QAF5B,KAAA,EAEQlB,EAFR,EAAA,KAIEC,EADgBF,EAAaC,IAH/B,KAAA,EAAA,IAAA,MAAA,OAAA,EAAA,UAOIG,KACFgB,YAAYJ,EAAS","file":"index.js","sourceRoot":"..\\src","sourcesContent":["const styles = `\n  body {\n    font-family: 'Roboto', sans-serif;\n  }\n  \n  #pitlor-dev-electionPage {\n  \n  }\n  \n  .result {\n  \n  }\n`;\nconst pageTemplate = `\n<head>\n  <title>Summit County Election Results</title>\n  <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\">\n  <link href=\"https://fonts.googleapis.com/css2?family=Roboto&display=swap\" rel=\"stylesheet\">\n  <style>${styles}</style>\n</head>\n<body>\n  <div id=\"pitlor-dev-electionPage\">\n    hey there!\n  </div>\n</body>\n`;\nconst resultTemplate = `\n  <div class=\"result\">\n  \n  </div>\n`;\nconst resultsDomain = \"https://www.summitcountyboe.gov/ElectionResults\";\n\nfunction parseResults(html) {}\n\nfunction updatePage(results) {}\n\nfunction init() {\n  if (!window.location.href.startsWith(resultsDomain)) {\n    alert(\"This bookmarklet only works with Summit County election results!\");\n    return false;\n  }\n\n  const alreadyRan = document.querySelector(\"#pitlor-dev-electionPage\");\n  if (alreadyRan) {\n    return false;\n  }\n\n  const root = document.querySelector(\"html\");\n  const html = root.outerHTML;\n  root.innerHTML = pageTemplate;\n\n  const results = parseResults(html);\n  updatePage(results);\n  return true;\n}\n\nasync function refresh() {\n  const result = await fetch(window.location.href);\n  const html = await result.text();\n  const results = parseResults(html);\n  updatePage(results);\n}\n\nif (init()) {\n  setInterval(refresh, 10 * 1000);\n}\n"]}